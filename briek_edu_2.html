<!DOCTYPE html>

<head>
	<title>go figure Briek!</title>
	<style>
	/*table, th, td, tr { border: 1px solid black;
	}*/

	
	#table_1 { 
		position: fixed;
		width: 25%;
    	right: 0;
    	left: 0;
    	margin-right: auto;
    	margin-left: auto; 
    	top: 20px;
    }
    .solve_this {
    	position: fixed;	
		width: 25%;
    	right: 0;
    	left: 0;
    	margin-right: auto;
    	margin-left: auto; 
    	top: 80px;
    }
    #paw_img_1 {
    	position: fixed;
    	right: 0;
    	left: 0;
    	margin-right: auto;
    	margin-left: auto; 
    	top: 180px;
    }
    td {
    	height: 60px;
    	font-size: 40px;
    }
	</style>
</head>
<body>
	<div class="solve_this">
	<table id="table_1">
		<tr>
			<td id="a"></td>
			<td><select id="opselect_1" style="height: 40px" style="font-size: 30px">
					<option>kies + of -</option>
					<option style="text-align:center;">+</option>
					<option>-</option>
					<!--<option>*</option>
					<option>/</option>-->
				</select>
			</td>
			<td id="b"></td>
			<td><select id="opselect_2" style="height: 40px" style="font-size: 30px">
					<option>kies + of -</option>
					<option style="font-size: 30px">+</option>
					<option>-</option>
					<!--<option>*</option>
					<option>/</option>-->
				</select>
			</td>
			<td id="c"></td>
			<!--<td><select id="opselect_3">
					<option>+</option>
					<option>-</option>
					<option>*</option>
					<option>/</option>
				</select>
			</td>-->
			<td id="d"></td>
			<td>=</td>
			<td id="result"></td>
		</tr>
	</table>
	<button id="try" onclick="tryFunction()">Try!</button>
	<button id="play_again" onclick="next()">Next!</button>
	<button id="clear_score" onclick="clear_score()">Reset</button>
	<div id="calculated_result"></div>
	<div id="score_permanent"></div>
</div>
	<div id="paw_img_1" style="display:none">
		<img src="https://vignette.wikia.nocookie.net/paw-patrol/images/1/13/Paw_patrol_mission_paw_giveaway.png/revision/latest?cb=20170618125416">
	</div>
	<div id="paw_img_2" style="display:none">
		<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQe0UpEqkN5iEWLH7MPQy9yNk7I544fuTLjr5dhqSPfC9SttsgJ">
	</div>
<script>
var a;
var b;
var c;
//var d;
var operators = ["+","-"] //["+","-","*","/"];
var operator_1;
var operator_2;
//var operator_3;
var result;
var operator_1_select;
var operator_2_select;
//var operator_3_select;
var calculated;
document.getElementById("score_permanent").innerHTML= "Briek, je hebt al "+localStorage.score+" punten";
//function playgame() {
function setnumbers() {
	a = Math.floor(Math.random() * 10);
	b = Math.floor(Math.random() * 10);
	c = Math.floor(Math.random() * 10);
	//d = Math.floor(Math.random() * 10);
document.getElementById("a").innerHTML=a;
document.getElementById("b").innerHTML=b;
document.getElementById("c").innerHTML=c;
//document.getElementById("d").innerHTML=d;
}
setnumbers();

console.log(a,b,c) //(a,b,c,d);
function setoperators() {
	operator_1 = operators[Math.floor(Math.random() * operators.length)];
	operator_2 = operators[Math.floor(Math.random() * operators.length)];
	//operator_3 = operators[Math.floor(Math.random() * operators.length)];
}
setoperators();
console.log(operator_1, operator_2) //(operator_1,operator_2,operator_3);
function setresult() {
	result = eval(a + operator_1 + b + operator_2 + c) //(a + operator_1 + b + operator_2 + c + operator_3 + d);
	//if (result % 1 == 0) { result = result }
	//else { setnumbers()}
	document.getElementById("result").innerHTML=result;
}
setresult();
console.log(result);
window.onload = function () {
  var loadTime = window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart; 
  console.log('Page load time is '+ loadTime +' milliseconds');
}
function tryFunction() {
	operator_1_select = document.getElementById("opselect_1").value;
	operator_2_select = document.getElementById("opselect_2").value;
	//operator_3_select = document.getElementById("opselect_3").value;
 	calculated = eval(a + operator_1_select + b + operator_2_select + c) //(a + operator_1_select + b + operator_2_select + c + operator_3_select + d);
 	if (calculated == result) {
 		if(typeof(Storage) !== "undefined") {
        	if (localStorage.score) {
            localStorage.score = Number(localStorage.score)+1;
        	} 
        	else {
            localStorage.score = localStorage.score;
        	}
        document.getElementById("score_permanent").innerHTML = calculated + " bingo, je hebt nu "+ localStorage.score +" punten!!";
        document.getElementById("paw_img_1").style.display="block";
    	} else {
        document.getElementById("calculated_result").innerHTML = "Sorry, your browser does not support web storage...";
    	}
 	}
 	else {
 	document.getElementById("calculated_result").innerHTML = calculated + " is no good, try again";
 	}
}
function clear_score() {
localStorage.score= 0;
location.reload();
 console.log("test");
}
if (localStorage.score == "2") {
	document.getElementById("paw_img_2").style.display="block";
}

console.log(localStorage.score);
function next() {
	location.reload();
	//console.log("test");
}

        	
//var localstored_updated = parseInt(localStorage.score);
//document.getElementById("score_permanent").innerHTML= "Briek, je hebt al "+localstored_updated+" punten";
</script>
</body>
</html>